<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Texture Ripper</title>
    <link rel="shortcut icon" type="image/jpg" href="icon.png"/>
  </head>
  <body>
    <h2>Texture Ripper</h2>
    <p>Get perspective accurate textures for 3D modeling and graphics from any image in an easy to use website.</p>
    
    <input type='file' id='button' multiple accept="image/*">
    <img id="preview">
    <p id="resolution"></p>

    <script type="module">
      import init, {run} from './wasm/wasm.js';

      (async () => {
        await init();

        var button = document.getElementById('button');

        button.addEventListener('change', (event) => {
          let file = event.target.files[0];

          const filename = file.name;
          const reader = new FileReader();
          
          reader.readAsArrayBuffer(file);

          reader.onloadend = function() {
            run(new Uint8Array(reader.result));            
          }
        });
      })();
    </script>
  </body>
</html>
